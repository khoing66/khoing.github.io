<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>Khoing的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="redis简单介绍与应用 介绍  Redis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。 换句话说，Redis就像是一个HashMap，不过不是在JVM中运行，而是以一个独立进程的形式运行。 一般说来，会被当作缓存使用。因为它比数据库(mysql)快，所以常用的数据，可以考虑放在这里，这样就提高了性能。   常见命">
<meta name="keywords" content="redis">
<meta property="og:type" content="article">
<meta property="og:title" content="Khoing的博客">
<meta property="og:url" content="http://yoursite.com/2019/08/12/redis/index.html">
<meta property="og:site_name" content="Khoing的博客">
<meta property="og:description" content="redis简单介绍与应用 介绍  Redis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。 换句话说，Redis就像是一个HashMap，不过不是在JVM中运行，而是以一个独立进程的形式运行。 一般说来，会被当作缓存使用。因为它比数据库(mysql)快，所以常用的数据，可以考虑放在这里，这样就提高了性能。   常见命">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2019-08-12T15:03:36.015Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Khoing的博客">
<meta name="twitter:description" content="redis简单介绍与应用 介绍  Redis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。 换句话说，Redis就像是一个HashMap，不过不是在JVM中运行，而是以一个独立进程的形式运行。 一般说来，会被当作缓存使用。因为它比数据库(mysql)快，所以常用的数据，可以考虑放在这里，这样就提高了性能。   常见命">
  
    <link rel="alternate" href="/atom.xml" title="Khoing的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Khoing的博客</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">关于学习中遇到的问题以及笔记</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-redis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/12/redis/" class="article-date">
  <time datetime="2019-08-12T15:03:35.936Z" itemprop="datePublished">2019-08-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h1><h2 id="简单介绍与应用"><a href="#简单介绍与应用" class="headerlink" title="简单介绍与应用"></a>简单介绍与应用</h2><ol>
<li><p>介绍</p>
<ul>
<li>Redis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。</li>
<li>换句话说，Redis就像是一个HashMap，不过不是在JVM中运行，而是以一个独立进程的形式运行。</li>
<li>一般说来，会被当作缓存使用。因为它比数据库(mysql)快，所以常用的数据，可以考虑放在这里，这样就提高了性能。</li>
</ul>
</li>
<li><p>常见命令</p>
<ol>
<li><p>String字符串</p>
<ul>
<li>SET key value                   设置key=value</li>
<li>GET key                         获得键key对应的值</li>
<li>GETRANGE key start end          得到字符串的子字符串存放在一个键</li>
<li>GETSET key value                设置键的字符串值，并返回旧值</li>
<li>GETBIT key offset               返回存储在键位值的字符串值的偏移</li>
<li>MGET key1 [key2..]              得到所有的给定键的值</li>
<li>SETBIT key offset value         设置或清除该位在存储在键的字符串值偏移</li>
<li>SETEX key seconds value         键到期时设置值</li>
<li>SETNX key value                 设置键的值，只有当该键不存在</li>
<li>SETRANGE key offset value       覆盖字符串的一部分从指定键的偏移</li>
<li>STRLEN key                      得到存储在键的值的长度</li>
<li>MSET key value [key value…]   设置多个键和多个值</li>
<li>MSETNX key value [key value…] 设置多个键多个值，只有在当没有按键的存在时</li>
<li>PSETEX key milliseconds value   设置键的毫秒值和到期时间</li>
<li>INCR key                        增加键的整数值一次</li>
<li>INCRBY key increment            由给定的数量递增键的整数值</li>
<li>INCRBYFLOAT key increment       由给定的数量递增键的浮点值</li>
<li>DECR key                        递减键一次的整数值</li>
<li>DECRBY key decrement            由给定数目递减键的整数值</li>
<li>APPEND key value                追加值到一个键</li>
<li>DEL key                         如果存在删除键</li>
<li>DUMP key                        返回存储在指定键的值的序列化版本</li>
<li>EXISTS key                      此命令检查该键是否存在</li>
<li>EXPIRE key seconds              指定键的过期时间</li>
<li>EXPIREAT key timestamp          指定的键过期时间。在这里，时间是在Unix时间戳格式</li>
<li>PEXPIRE key milliseconds        设置键以毫秒为单位到期</li>
<li>PEXPIREAT key milliseconds-timestamp        设置键在Unix时间戳指定为毫秒到期</li>
<li>KEYS pattern                    查找与指定模式匹配的所有键</li>
<li>MOVE key db                     移动键到另一个数据库</li>
<li>PERSIST key                     移除过期的键</li>
<li>PTTL key                        以毫秒为单位获取剩余时间的到期键。</li>
<li>TTL key                         获取键到期的剩余时间。</li>
<li>RANDOMKEY                       从Redis返回随机键</li>
<li>RENAME key newkey               更改键的名称</li>
<li>RENAMENX key newkey             重命名键，如果新的键不存在</li>
<li>TYPE key                        返回存储在键的数据类型的值。</li>
</ul>
</li>
<li><p>List列表</p>
<ul>
<li>BLPOP key1 [key2 ] timeout 取出并获取列表中的第一个元素，或阻塞，直到有可用</li>
<li>BRPOP key1 [key2 ] timeout 取出并获取列表中的最后一个元素，或阻塞，直到有可用</li>
<li>BRPOPLPUSH source destination timeout 从列表中弹出一个值，它推到另一个列表并返回它;或阻塞，直到有可用</li>
<li>LINDEX key index 从一个列表其索引获取对应的元素</li>
<li>LINSERT key BEFORE|AFTER pivot value 在列表中的其他元素之后或之前插入一个元素</li>
<li>LLEN key 获取列表的长度</li>
<li>LPOP key 获取并取出列表中的第一个元素</li>
<li>LPUSH key value1 [value2] 在前面加上一个或多个值的列表</li>
<li>LPUSHX key value 在前面加上一个值列表，仅当列表中存在</li>
<li>LRANGE key start stop 从一个列表获取各种元素</li>
<li>LREM key count value 从列表中删除元素</li>
<li>LSET key index value 在列表中的索引设置一个元素的值</li>
<li>LTRIM key start stop 修剪列表到指定的范围内</li>
<li>RPOP key 取出并获取列表中的最后一个元素</li>
<li>RPOPLPUSH source destination 删除最后一个元素的列表，将其附加到另一个列表并返回它</li>
<li>RPUSH key value1 [value2] 添加一个或多个值到列表</li>
<li>RPUSHX key value 添加一个值列表，仅当列表中存在</li>
</ul>
</li>
<li><p>Hash 字典，哈希表</p>
<ul>
<li>HDEL key field[field…] 删除对象的一个或几个属性域，不存在的属性将被忽略</li>
<li>HEXISTS key field 查看对象是否存在该属性域</li>
<li>HGET key field 获取对象中该field属性域的值</li>
<li>HGETALL key 获取对象的所有属性域和值</li>
<li>HINCRBY key field value 将该对象中指定域的值增加给定的value，原子自增操作，只能是integer的属性值可以使用</li>
<li>HINCRBYFLOAT key field increment 将该对象中指定域的值增加给定的浮点数</li>
<li>HKEYS key 获取对象的所有属性字段</li>
<li>HVALS key 获取对象的所有属性值</li>
<li>HLEN key 获取对象的所有属性字段的总数</li>
<li>HMGET key field[field…] 获取对象的一个或多个指定字段的值</li>
<li>HSET key field value 设置对象指定字段的值</li>
<li>HMSET key field value [field value …] 同时设置对象中一个或多个字段的值</li>
<li>HSETNX key field value 只在对象不存在指定的字段时才设置字段的值</li>
<li>HSTRLEN key field 返回对象指定field的value的字符串长度，如果该对象或者field不存在，返回0.</li>
<li>HSCAN key cursor [MATCH pattern] [COUNT count] 类似SCAN命令</li>
</ul>
</li>
<li><p>set集合</p>
<ul>
<li>SADD key member [member …] 添加一个或者多个元素到集合(set)里</li>
<li>SCARD key 获取集合里面的元素数量</li>
<li>SDIFF key [key …] 获得队列不存在的元素</li>
<li>SDIFFSTORE destination key [key …] 获得队列不存在的元素，并存储在一个关键的结果集</li>
<li>SINTER key [key …] 获得两个集合的交集</li>
<li>SINTERSTORE destination key [key …] 获得两个集合的交集，并存储在一个集合中</li>
<li>SISMEMBER key member 确定一个给定的值是一个集合的成员</li>
<li>SMEMBERS key 获取集合里面的所有key</li>
<li>SMOVE source destination member 移动集合里面的一个key到另一个集合</li>
<li>SPOP key [count] 获取并删除一个集合里面的元素</li>
<li>SRANDMEMBER key [count] 从集合里面随机获取一个元素</li>
<li>SREM key member [member …] 从集合里删除一个或多个元素，不存在的元素会被忽略</li>
<li>SUNION key [key …] 添加多个set元素</li>
<li>SUNIONSTORE destination key [key …] 合并set元素，并将结果存入新的set里面</li>
<li>SSCAN key cursor [MATCH pattern] [COUNT count] 迭代set里面的元素</li>
</ul>
</li>
<li><p>Sorted set有序集合</p>
<ul>
<li>ZADD key score1 member1 [score2 member2] 添加一个或多个成员到有序集合，或者如果它已经存在更新其分数</li>
<li>ZCARD key 得到的有序集合成员的数量</li>
<li>ZCOUNT key min max 计算一个有序集合成员与给定值范围内的分数</li>
<li>ZINCRBY key increment member 在有序集合增加成员的分数</li>
<li>ZINTERSTORE destination numkeys key [key …] 多重交叉排序集合，并存储生成一个新的键有序集合。</li>
<li>ZLEXCOUNT key min max 计算一个给定的字典范围之间的有序集合成员的数量</li>
<li>ZRANGE key start stop [WITHSCORES] 由索引返回一个成员范围的有序集合（从低到高）</li>
<li>ZRANGEBYLEX key min max [LIMIT offset count]返回一个成员范围的有序集合（由字典范围）</li>
<li>ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT] 返回有序集key中，所有 score 值介于 min 和 max 之间(包括等于 min 或 max )的成员，有序集成员按 score 值递增(从小到大)次序排列</li>
<li>ZRANK key member 确定成员的索引中有序集合</li>
<li>ZREM key member [member …] 从有序集合中删除一个或多个成员，不存在的成员将被忽略</li>
<li>ZREMRANGEBYLEX key min max 删除所有成员在给定的字典范围之间的有序集合</li>
<li>ZREMRANGEBYRANK key start stop 在给定的索引之内删除所有成员的有序集合</li>
<li>ZREMRANGEBYSCORE key min max 在给定的分数之内删除所有成员的有序集合</li>
<li>ZREVRANGE key start stop [WITHSCORES] 返回一个成员范围的有序集合，通过索引，以分数排序，从高分到低分</li>
<li>ZREVRANGEBYSCORE key max min [WITHSCORES] 返回一个成员范围的有序集合，以socre排序从高到低</li>
<li>ZREVRANK key member 确定一个有序集合成员的索引，以分数排序，从高分到低分</li>
<li>ZSCORE key member 获取给定成员相关联的分数在一个有序集合</li>
<li>ZUNIONSTORE destination numkeys key [key …] 添加多个集排序，所得排序集合存储在一个新的键</li>
<li>ZSCAN key cursor [MATCH pattern] [COUNT count] 增量迭代排序元素集和相关的分数</li>
</ul>
</li>
</ol>
</li>
<li><p>Jedis</p>
<ol>
<li><p>Jedis：在常见命令中，使用各种Redis自带客户端的命令行方式访问Redis服务。 而在实际工作中却需要用到Java代码才能访问，使用第三方jar包 ：Jedis就能方便地访问Redis的各种服务了。</p>
</li>
<li> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBasicString</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//-----添加数据----------</span></span><br><span class="line">    jedis.set(<span class="string">"name"</span>,<span class="string">"meepo"</span>);<span class="comment">//向key--&gt;name中放入了value--&gt;meepo</span></span><br><span class="line">    System.out.println(jedis.get(<span class="string">"name"</span>));<span class="comment">//执行结果：meepo</span></span><br><span class="line">    <span class="comment">//-----修改数据-----------</span></span><br><span class="line">    <span class="comment">//1、在原来基础上修改</span></span><br><span class="line">    jedis.append(<span class="string">"name"</span>,<span class="string">"dota"</span>);   <span class="comment">//很直观，类似map 将dota append到已经有的value之后</span></span><br><span class="line">    System.out.println(jedis.get(<span class="string">"name"</span>));<span class="comment">//执行结果:meepodota</span></span><br><span class="line">    <span class="comment">//2、直接覆盖原来的数据</span></span><br><span class="line">    jedis.set(<span class="string">"name"</span>,<span class="string">"poofu"</span>);</span><br><span class="line">    System.out.println(jedis.get(<span class="string">"name"</span>));<span class="comment">//执行结果：poofu</span></span><br><span class="line">    <span class="comment">//删除key对应的记录</span></span><br><span class="line">    jedis.del(<span class="string">"name"</span>);</span><br><span class="line">    System.out.println(jedis.get(<span class="string">"name"</span>));<span class="comment">//执行结果：null</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * mset相当于</span></span><br><span class="line"><span class="comment">    * jedis.set("name","meepo");</span></span><br><span class="line"><span class="comment">    * jedis.set("dota","poofu");</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    jedis.mset(<span class="string">"name"</span>,<span class="string">"meepo"</span>,<span class="string">"dota"</span>,<span class="string">"poofu"</span>);</span><br><span class="line">    System.out.println(jedis.mget(<span class="string">"name"</span>,<span class="string">"dota"</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* jedis操作Map</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMap</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Map&lt;String,String&gt; user=<span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line">    user.put(<span class="string">"name"</span>,<span class="string">"meepo"</span>);</span><br><span class="line">    user.put(<span class="string">"pwd"</span>,<span class="string">"password"</span>);</span><br><span class="line">    jedis.hmset(<span class="string">"user"</span>,user);</span><br><span class="line">    <span class="comment">//取出user中的name，执行结果:[meepo]--&gt;注意结果是一个泛型的List</span></span><br><span class="line">    <span class="comment">//第一个参数是存入redis中map对象的key，后面跟的是放入map中的对象的key，后面的key可以跟多个，是可变参数 </span></span><br><span class="line">    List&lt;String&gt; rsmap = jedis.hmget(<span class="string">"user"</span>, <span class="string">"name"</span>);</span><br><span class="line">    System.out.println(rsmap);</span><br><span class="line">    <span class="comment">//删除map中的某个键值</span></span><br><span class="line">    <span class="comment">//jedis.hdel("user","pwd");</span></span><br><span class="line">    System.out.println(jedis.hmget(<span class="string">"user"</span>, <span class="string">"pwd"</span>)); <span class="comment">//因为删除了，所以返回的是null</span></span><br><span class="line">    System.out.println(jedis.hlen(<span class="string">"user"</span>)); <span class="comment">//返回key为user的键中存放的值的个数1</span></span><br><span class="line">    System.out.println(jedis.exists(<span class="string">"user"</span>));<span class="comment">//是否存在key为user的记录 返回true</span></span><br><span class="line">    System.out.println(jedis.hkeys(<span class="string">"user"</span>));<span class="comment">//返回map对象中的所有key  [pwd, name]</span></span><br><span class="line">    System.out.println(jedis.hvals(<span class="string">"user"</span>));<span class="comment">//返回map对象中的所有value  [meepo, password]</span></span><br><span class="line">    Iterator&lt;String&gt; iter=jedis.hkeys(<span class="string">"user"</span>).iterator();</span><br><span class="line">    <span class="keyword">while</span> (iter.hasNext())&#123;</span><br><span class="line">        String key = iter.next();</span><br><span class="line">        System.out.println(key+<span class="string">":"</span>+jedis.hmget(<span class="string">"user"</span>,key));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* jedis操作List</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testList</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//开始前，先移除所有的内容</span></span><br><span class="line">    jedis.del(<span class="string">"java framework"</span>);</span><br><span class="line">    <span class="comment">// 第一个是key，第二个是起始位置，第三个是结束位置，jedis.llen获取长度 -1表示取得所有</span></span><br><span class="line">    System.out.println(jedis.lrange(<span class="string">"java framework"</span>,<span class="number">0</span>,-<span class="number">1</span>));</span><br><span class="line"><span class="comment">//先向key java framework中存放三条数据</span></span><br><span class="line">jedis.lpush(<span class="string">"java framework"</span>,<span class="string">"spring"</span>);</span><br><span class="line">jedis.lpush(<span class="string">"java framework"</span>,<span class="string">"struts"</span>);</span><br><span class="line">jedis.lpush(<span class="string">"java framework"</span>,<span class="string">"hibernate"</span>);</span><br><span class="line"><span class="comment">//再取出所有数据jedis.lrange是按范围取出，</span></span><br><span class="line"><span class="comment">// 第一个是key，第二个是起始位置，第三个是结束位置，jedis.llen获取长度 -1表示取得所有 </span></span><br><span class="line">System.out.println(jedis.lrange(<span class="string">"java framework"</span>,<span class="number">0</span>,-<span class="number">1</span>)); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* jedis操作Set</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSet</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//添加 </span></span><br><span class="line">    jedis.sadd(<span class="string">"sname"</span>,<span class="string">"meepo"</span>);</span><br><span class="line">    jedis.sadd(<span class="string">"sname"</span>,<span class="string">"dota"</span>);</span><br><span class="line">    jedis.sadd(<span class="string">"sname"</span>,<span class="string">"poofu"</span>);</span><br><span class="line">    jedis.sadd(<span class="string">"sname"</span>,<span class="string">"noname"</span>);</span><br><span class="line">        <span class="comment">//移除noname </span></span><br><span class="line">    jedis.srem(<span class="string">"sname"</span>,<span class="string">"noname"</span>); </span><br><span class="line">    System.out.println(jedis.smembers(<span class="string">"sname"</span>));<span class="comment">//获取所有加入的value </span></span><br><span class="line">    System.out.println(jedis.sismember(<span class="string">"sname"</span>, <span class="string">"meepo"</span>));<span class="comment">//判断 meepo 是否是sname集合的元素 </span></span><br><span class="line">    System.out.println(jedis.srandmember(<span class="string">"sname"</span>)); </span><br><span class="line">    System.out.println(jedis.scard(<span class="string">"sname"</span>));<span class="comment">//返回集合的元素个数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    <span class="comment">//keys中传入的可以用通配符</span></span><br><span class="line">    System.out.println(jedis.keys(<span class="string">"*"</span>)); <span class="comment">//返回当前库中所有的key  [sose, sanme, name, dota, foo, sname, java framework, user, braand]</span></span><br><span class="line">    System.out.println(jedis.keys(<span class="string">"*name"</span>));<span class="comment">//返回的sname   [sname, name] </span></span><br><span class="line">    System.out.println(jedis.del(<span class="string">"sanmdde"</span>));<span class="comment">//删除key为sanmdde的对象  删除成功返回1 删除失败（或者不存在）返回 0 </span></span><br><span class="line">    System.out.println(jedis.ttl(<span class="string">"sname"</span>));<span class="comment">//返回给定key的有效时间，如果是-1则表示永远有效</span></span><br><span class="line">    jedis.setex(<span class="string">"timekey"</span>, <span class="number">10</span>, <span class="string">"min"</span>);<span class="comment">//通过此方法，可以指定key的存活（有效时间） 时间为秒</span></span><br><span class="line">    Thread.sleep(<span class="number">5000</span>);<span class="comment">//睡眠5秒后，剩余时间将为&lt;=5</span></span><br><span class="line">    System.out.println(jedis.ttl(<span class="string">"timekey"</span>));   <span class="comment">//输出结果为5</span></span><br><span class="line">    jedis.setex(<span class="string">"timekey"</span>, <span class="number">1</span>, <span class="string">"min"</span>);        <span class="comment">//设为1后，下面再看剩余时间就是1了</span></span><br><span class="line">    System.out.println(jedis.ttl(<span class="string">"timekey"</span>));  <span class="comment">//输出结果为1</span></span><br><span class="line">    System.out.println(jedis.exists(<span class="string">"key"</span>));<span class="comment">//检查key是否存在</span></span><br><span class="line">    System.out.println(jedis.rename(<span class="string">"timekey"</span>,<span class="string">"time"</span>));</span><br><span class="line">    System.out.println(jedis.get(<span class="string">"timekey"</span>));<span class="comment">//因为移除，返回为null</span></span><br><span class="line">    System.out.println(jedis.get(<span class="string">"time"</span>)); <span class="comment">//因为将timekey 重命名为time 所以可以取得值 min</span></span><br><span class="line">    <span class="comment">//jedis 排序 </span></span><br><span class="line">    <span class="comment">//注意，此处的rpush和lpush是List的操作。是一个双向链表（但从表现来看的)</span></span><br><span class="line">    jedis.del(<span class="string">"a"</span>);<span class="comment">//先清除数据，再加入数据进行测试</span></span><br><span class="line">    jedis.rpush(<span class="string">"a"</span>, <span class="string">"1"</span>);</span><br><span class="line">    jedis.lpush(<span class="string">"a"</span>,<span class="string">"6"</span>);</span><br><span class="line">    jedis.lpush(<span class="string">"a"</span>,<span class="string">"3"</span>);</span><br><span class="line">    jedis.lpush(<span class="string">"a"</span>,<span class="string">"9"</span>); </span><br><span class="line">    System.out.println(jedis.lrange(<span class="string">"a"</span>,<span class="number">0</span>,-<span class="number">1</span>));<span class="comment">// [9, 3, 6, 1] </span></span><br><span class="line">    System.out.println(jedis.sort(<span class="string">"a"</span>)); <span class="comment">//[1, 3, 6, 9]  //输入排序后结果 </span></span><br><span class="line">    System.out.println(jedis.lrange(<span class="string">"a"</span>,<span class="number">0</span>,-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>Springboot集成redis</p>
<ol>
<li>导入依赖：</li>
</ol>
</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<pre><code>2. 配置application.properties
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#Redis</span><br><span class="line">#spring.redis.host=127.0.0.1</span><br><span class="line">redis.host=<span class="number">127.0</span>.0.1</span><br><span class="line">## Redis服务器连接端口</span><br><span class="line">redis.port=<span class="number">6379</span></span><br><span class="line">## 连接超时时间（毫秒）</span><br><span class="line">redis.timeout=<span class="number">3</span></span><br><span class="line">## Redis服务器连接密码（默认为空）</span><br><span class="line">redis.password=<span class="number">135246</span></span><br><span class="line">## 连接池中的最大连接数</span><br><span class="line">redis.poolMaxTotal=<span class="number">10</span></span><br><span class="line">## 连接池中的最大空闲连接</span><br><span class="line">redis.poolMaxIdle=<span class="number">10</span></span><br><span class="line">## 连接池最大阻塞等待时间（使用负值表示没有限制）</span><br><span class="line">redis.poolMaxWait=<span class="number">3</span></span><br></pre></td></tr></table></figure>

3. </code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/08/12/redis/" data-id="cjzr4nhhx00212gtsv3obw3ew" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redis/">redis</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/08/14/linux-连接网络失败/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          linux 连接网络失败
        
      </div>
    </a>
  
  
    <a href="/2019/08/12/Maven父子项目/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Maven 父子项目</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/">ElasticSearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL报错/">MySQL报错</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mysql/">Mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/">RabbitMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/">SpringCloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/error/">error</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mail/">mail</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/return-brean-continue/">return;brean;continue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/">security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typora/">typora</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数组/">数组</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ElasticSearch/" style="font-size: 10px;">ElasticSearch</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MySQL报错/" style="font-size: 10px;">MySQL报错</a> <a href="/tags/Mysql/" style="font-size: 20px;">Mysql</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/SpringBoot/" style="font-size: 10px;">SpringBoot</a> <a href="/tags/SpringCloud/" style="font-size: 20px;">SpringCloud</a> <a href="/tags/WebSocket/" style="font-size: 10px;">WebSocket</a> <a href="/tags/error/" style="font-size: 20px;">error</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/mail/" style="font-size: 10px;">mail</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/return-brean-continue/" style="font-size: 10px;">return;brean;continue</a> <a href="/tags/security/" style="font-size: 10px;">security</a> <a href="/tags/typora/" style="font-size: 10px;">typora</a> <a href="/tags/数组/" style="font-size: 10px;">数组</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/08/25/SpringBoot-Security/">SpringBoot-Security</a>
          </li>
        
          <li>
            <a href="/2019/08/25/日语学习day3/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/08/25/mail/">mail</a>
          </li>
        
          <li>
            <a href="/2019/08/25/SpringBoot整合ElasticSearch/">SpringBoot整合ElasticSearch</a>
          </li>
        
          <li>
            <a href="/2019/08/24/日语学习day2/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Khoing<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>